(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[610],{1767:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/test345",function(){return t(829)}])},829:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return B}});var a=t(5893),s=t(7294),d=t(1163),o=t(3156),l=t(3765),i=t(1833),n=t(4270),c=t(8760),m=t(4442),g=t(7864),x=t(2779),u=t(493),h=t(3283),b=t(3616),p=t(2190),y=t(9819),f=t(9008),j=t.n(f),k=t(1603),w=t(893),v=t(8117),N=t(9354),C=t(775),S=t(9748),E=t(4587),P=t(6958);function T(e){let{activeSection:r,onSectionChange:t,onLogout:s}=e,{locale:l}=(0,d.useRouter)(),i="az"===l?E.adminSidePanel:"ru"===l?P.adminSidePanel:S.adminSidePanel,n=[{id:"products",name:i.sectionProducts,icon:(0,a.jsx)(o.Z,{className:"w-5 h-5"})},{id:"categories",name:i.sectionCategories,icon:(0,a.jsx)(k.Z,{className:"w-5 h-5"})},{id:"catalog",name:i.sectionCatalog,icon:(0,a.jsx)(h.Z,{className:"w-5 h-5"})},{id:"careers",name:i.sectionCareers,icon:(0,a.jsx)(w.Z,{className:"w-5 h-5"})},{id:"translations",name:i.sectionTranslations,icon:(0,a.jsx)(v.Z,{className:"w-5 h-5"})},{id:"backup",name:i.sectionBackup,icon:(0,a.jsx)(N.Z,{className:"w-5 h-5"})},{id:"password",name:i.sectionPassword,icon:(0,a.jsx)(b.Z,{className:"w-5 h-5"})}];return(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-800 w-64 min-h-screen shadow-lg border-r border-gray-200 dark:border-gray-700 flex flex-col",children:[(0,a.jsx)("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)(o.Z,{className:"w-8 h-8 text-blue-600 dark:text-blue-400"}),(0,a.jsx)("h1",{className:"text-xl font-bold text-gray-900 dark:text-white",children:i.title})," "]})}),(0,a.jsx)("nav",{className:"flex-1 px-4 py-6 space-y-1.5",children:n.map(e=>(0,a.jsxs)("button",{onClick:()=>t(e.id),className:"w-full flex items-center space-x-3 px-4 py-3 rounded-lg transition-all ".concat(r===e.id?"bg-blue-600 text-white shadow-md":"text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"),children:[(0,a.jsx)("span",{className:r===e.id?"text-white":"text-blue-600 dark:text-blue-400",children:e.icon}),(0,a.jsx)("span",{className:"font-medium",children:e.name})]},e.id))}),(0,a.jsx)("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700",children:(0,a.jsxs)("button",{onClick:s,className:"w-full flex items-center justify-center space-x-3 px-4 py-3 rounded-lg text-white bg-red-600 hover:bg-red-700 dark:bg-red-700 dark:hover:bg-red-800 transition-colors",children:[(0,a.jsx)(C.Z,{className:"w-5 h-5"}),(0,a.jsx)("span",{className:"font-medium",children:i.logoutButton})," "]})})]})}function Z(e){let{token:r,onCategoryChange:t}=e,{locale:o}=(0,d.useRouter)(),i="az"===o?E.categoryManager:"ru"===o?P.categoryManager:S.categoryManager,[n,c]=(0,s.useState)([]),[x,u]=(0,s.useState)(!1),[h,b]=(0,s.useState)(""),[p,f]=(0,s.useState)(null),[j,k]=(0,s.useState)({name:"",description:""});(0,s.useEffect)(()=>{w()},[]);let w=async()=>{u(!0);try{let e=await fetch("/api/categories");if(!e.ok)throw Error(i.errorFetch);let r=await e.json();c(r)}catch(e){b(i.errorLoad),console.error("Error fetching categories:",e)}finally{u(!1)}},v=e=>{let{name:r,value:t}=e.target;k(e=>({...e,[r]:t}))},N=e=>{f(e),k({name:e.name,description:e.description})},C=()=>{f(null),k({name:"",description:""})},T=async e=>{if(e.preventDefault(),b(""),!j.name.trim()){b(i.errorNameRequired);return}try{let e=p?"/api/categories?id=".concat(p.id):"/api/categories",a=await fetch(e,{method:p?"PUT":"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(r)},body:JSON.stringify(j)});if(!a.ok){let e=await a.json();throw Error(e.message||i.errorSave)}await w(),C(),t&&t()}catch(e){b(e instanceof Error?e.message:i.errorSave)}},Z=async e=>{if(confirm(i.confirmDelete))try{let a=await fetch("/api/categories?id=".concat(e),{method:"DELETE",headers:{Authorization:"Bearer ".concat(r)}});if(a.ok){await w(),t&&t();return}let s=await a.json();if(s.canReassign&&s.productsCount>0){n.find(r=>r.id===e);let a=n.filter(r=>r.id!==e);if(0===a.length){alert(i.alertCannotDelete);return}let d=i.confirmReassign.replace("{count}",s.productsCount);if(confirm(d)){let d=i.promptReassign.replace("{count}",s.productsCount),o=prompt(d,a[0].name);if(o&&a.some(e=>e.name===o)){let a=await fetch("/api/categories?id=".concat(e,"&reassignTo=").concat(encodeURIComponent(o)),{method:"DELETE",headers:{Authorization:"Bearer ".concat(r)}});if(a.ok){let e=await a.json(),r=i.alertReassignSuccess.replace("{count}",e.reassigned).replace("{categoryName}",o);alert(r),await w(),t&&t()}else{let e=await a.json();b(e.message||i.errorReassign)}}}return}throw Error(s.message||i.errorDelete)}catch(e){b(e instanceof Error?e.message:i.errorDelete)}};return(0,a.jsxs)("div",{className:"space-y-8",children:[(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-800 shadow-md rounded-lg p-6 border border-gray-200 dark:border-gray-700",children:[(0,a.jsxs)("h2",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4 pb-2 border-b border-gray-200 dark:border-gray-700",children:[p?i.formTitleEdit:i.formTitleAdd," "]}),h&&(0,a.jsxs)("div",{className:"mb-4 p-3 bg-red-100 dark:bg-red-900/30 border border-red-200 dark:border-red-800 rounded-lg text-red-700 dark:text-red-300 flex items-start",children:[(0,a.jsx)(l.Z,{className:"w-5 h-5 mr-2 flex-shrink-0 mt-0.5"}),(0,a.jsx)("p",{children:h})]}),(0,a.jsxs)("form",{onSubmit:T,className:"space-y-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 gap-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:[i.labelName," "]}),(0,a.jsx)("input",{id:"name",name:"name",type:"text",value:j.name,onChange:v,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-700 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-900 text-gray-900 dark:text-white shadow-sm",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:[i.labelDescription," "]}),(0,a.jsx)("textarea",{id:"description",name:"description",rows:3,value:j.description,onChange:v,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-700 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-900 text-gray-900 dark:text-white shadow-sm"})]})]}),(0,a.jsxs)("div",{className:"flex space-x-3",children:[(0,a.jsxs)("button",{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded-md flex items-center transition-colors shadow-sm focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:[(0,a.jsx)(y.Z,{className:"w-5 h-5 mr-2"}),p?i.buttonUpdate:i.buttonSave," "]}),p&&(0,a.jsxs)("button",{type:"button",onClick:C,className:"bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-200 font-medium py-2 px-4 rounded-md flex items-center transition-colors",children:[i.buttonCancel," "]})]})]})]}),(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-800 shadow-md rounded-lg overflow-hidden border border-gray-200 dark:border-gray-700",children:[(0,a.jsxs)("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-750",children:[(0,a.jsx)("h2",{className:"text-lg font-medium text-gray-900 dark:text-white",children:i.tableTitle})," "]}),x?(0,a.jsxs)("div",{className:"p-6 text-center",children:[(0,a.jsx)("p",{className:"text-gray-500 dark:text-gray-400",children:i.loading})," "]}):0===n.length?(0,a.jsxs)("div",{className:"p-6 text-center",children:[(0,a.jsx)("p",{className:"text-gray-500 dark:text-gray-400",children:i.noCategories})," "]}):(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[(0,a.jsx)("thead",{className:"bg-gray-50 dark:bg-gray-750",children:(0,a.jsxs)("tr",{children:[(0,a.jsxs)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:[i.headerId," "]}),(0,a.jsxs)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:[i.headerName," "]}),(0,a.jsxs)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:[i.headerDescription," "]}),(0,a.jsxs)("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:[i.headerActions," "]})]})}),(0,a.jsx)("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:n.map(e=>(0,a.jsxs)("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors",children:[(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:e.id}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsx)("span",{className:"px-2.5 py-1 text-xs font-medium rounded-full bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300",children:e.name})}),(0,a.jsx)("td",{className:"px-6 py-4 text-sm text-gray-500 dark:text-gray-400",children:e.description}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:(0,a.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,a.jsxs)("button",{onClick:()=>N(e),className:"text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300 p-1 rounded-full hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-colors",children:[(0,a.jsx)(m.Z,{className:"w-5 h-5"}),(0,a.jsx)("span",{className:"sr-only",children:i.srEdit})," "]}),(0,a.jsxs)("button",{onClick:()=>Z(e.id),className:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300 p-1 rounded-full hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors",children:[(0,a.jsx)(g.Z,{className:"w-5 h-5"}),(0,a.jsx)("span",{className:"sr-only",children:i.srDelete})," "]})]})})]},e.id))})]})})]})]})}var D=t(2002);function z(e){let{coverImage:r,interiorImages:t,onCoverImageChange:o,onInteriorImagesChange:i,maxSize:n=5242880}=e,{locale:m}=(0,d.useRouter)(),g="az"===m?E.imageUpload:"ru"===m?P.imageUpload:S.imageUpload,[x,u]=s.useState(null),b=async function(e){let r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];try{let t=new Image;return t.src=e,new Promise((e,a)=>{t.onload=()=>{r?t.width<800||t.height<600?a(g.errorCoverSmall):t.width>1200||t.height>900?a(g.errorCoverLarge):Math.abs(t.width/t.height-4/3)>.1&&a(g.errorCoverAspectRatio):(t.width<600||t.height<400)&&a(g.errorInteriorSmall),e(!0)},t.onerror=()=>a(g.errorLoadFail)})}catch(e){throw Error(g.errorInvalidUrl)}},y=async e=>{try{u(null),await b(e,!0),o(e)}catch(e){u(e instanceof Error?e.message:String(e))}},f=async e=>{try{u(null),await b(e),i([...t,e])}catch(e){u(e instanceof Error?e.message:String(e))}},j=(0,s.useCallback)((e,r)=>{if(w(r),0===e.length)return;let t=e[0];if(t.size>n){u(g.errorFileTooLarge.replace("{size}",(n/1048576).toString()));return}let a=new FileReader;a.onload=e=>{var r;(null===(r=e.target)||void 0===r?void 0:r.result)&&y(e.target.result)},a.onerror=()=>{u(g.errorReadFail)},a.readAsDataURL(t)},[o,n,y,g]),k=(0,s.useCallback)((e,r)=>{w(r),0!==e.length&&e.forEach(e=>{if(e.size>n){u(g.errorFileTooLarge.replace("{size}",(n/1048576).toString()));return}let r=new FileReader;r.onload=e=>{var r;(null===(r=e.target)||void 0===r?void 0:r.result)&&f(e.target.result)},r.onerror=()=>{u(g.errorReadFail)},r.readAsDataURL(e)})},[t,i,n,f,g]),w=e=>{e.length>0&&u(e.map(e=>{let r=e.errors.map(e=>e.message).join(", ");return"".concat(e.file.name,": ").concat(r)}).join("; "))},{getRootProps:v,getInputProps:N,isDragActive:C}=(0,D.uI)({onDrop:j,accept:{"image/*":[".jpeg",".jpg",".png",".gif",".webp"]},multiple:!1,maxSize:n}),{getRootProps:T,getInputProps:Z,isDragActive:z}=(0,D.uI)({onDrop:k,accept:{"image/*":[".jpeg",".jpg",".png",".gif",".webp"]},multiple:!0,maxSize:n}),F=(e,r)=>{r.preventDefault(),r.stopPropagation();try{if(e<0||e>=t.length){console.error("Invalid image index: ".concat(e)),u(g.errorInvalidIndex.replace("{index}",e.toString()));return}let r=[...t];r.splice(e,1),i(r),console.log("Interior image at index ".concat(e," removed successfully"))}catch(r){console.error("Error removing interior image at index ".concat(e,":"),r),u(g.errorRemoveInterior)}};return(0,a.jsxs)("div",{className:"space-y-6",children:[x&&(0,a.jsx)("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-3 shadow-sm",children:(0,a.jsxs)("div",{className:"flex items-start",children:[(0,a.jsx)(l.Z,{className:"h-5 w-5 text-red-500 dark:text-red-400 mr-2 mt-0.5 flex-shrink-0"}),(0,a.jsx)("div",{children:(0,a.jsx)("p",{className:"text-sm text-red-700 dark:text-red-300",children:x})})]})}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:[g.labelCover," "]}),(0,a.jsxs)("div",{...v(),className:"border-2 border-dashed rounded-lg p-6 text-center cursor-pointer transition-all ".concat(C?"border-blue-500 bg-blue-50 dark:bg-blue-900/20 shadow-inner":"border-gray-300 dark:border-gray-700 hover:border-blue-500 dark:hover:border-blue-500 hover:shadow-md"),children:[(0,a.jsx)("input",{...N()}),(0,a.jsx)(c.Z,{className:"w-12 h-12 mx-auto text-blue-500 dark:text-blue-400 opacity-75"}),(0,a.jsxs)("p",{className:"mt-3 text-sm font-medium text-gray-700 dark:text-gray-300",children:[C?g.dropzoneCoverActive:g.dropzoneCoverInactive," "]}),(0,a.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:[g.dropzoneHint.replace("{size}",(n/1048576).toString())," "]})]}),r&&(0,a.jsx)("div",{className:"mt-4",children:(0,a.jsxs)("div",{className:"relative group inline-block overflow-hidden rounded-lg border border-gray-200 dark:border-gray-700 shadow-sm",children:[(0,a.jsx)("img",{src:r,alt:g.altCover,className:"h-40 w-auto object-contain"}),(0,a.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-40 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:(0,a.jsx)("button",{type:"button",onClick:e=>{e.preventDefault(),e.stopPropagation();try{o(""),console.log("Cover image removed successfully")}catch(e){console.error("Error removing cover image:",e),u(g.errorRemoveCover)}},className:"p-1.5 bg-red-600 hover:bg-red-700 text-white rounded-full transition-colors shadow-sm","aria-label":g.ariaRemoveCover,children:(0,a.jsx)(p.Z,{className:"w-4 h-4"})})})]})})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:[g.labelInterior," "]}),(0,a.jsxs)("div",{...T(),className:"border-2 border-dashed rounded-lg p-6 text-center cursor-pointer transition-all ".concat(z?"border-blue-500 bg-blue-50 dark:bg-blue-900/20 shadow-inner":"border-gray-300 dark:border-gray-700 hover:border-blue-500 dark:hover:border-blue-500 hover:shadow-md"),children:[(0,a.jsx)("input",{...Z()}),(0,a.jsx)(h.Z,{className:"w-12 h-12 mx-auto text-blue-500 dark:text-blue-400 opacity-75"}),(0,a.jsxs)("p",{className:"mt-3 text-sm font-medium text-gray-700 dark:text-gray-300",children:[z?g.dropzoneInteriorActive:g.dropzoneInteriorInactive," "]}),(0,a.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:[g.dropzoneHint.replace("{size}",(n/1048576).toString())," "]})]}),t.length>0&&(0,a.jsx)("div",{className:"mt-4 grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4",children:t.map((e,r)=>(0,a.jsxs)("div",{className:"relative group rounded-lg overflow-hidden shadow-sm border border-gray-200 dark:border-gray-700",children:[(0,a.jsx)("img",{src:e,alt:g.altInterior.replace("{index}",(r+1).toString()),className:"w-full h-32 object-cover"}),(0,a.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-40 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:(0,a.jsx)("button",{type:"button",onClick:e=>F(r,e),className:"p-1.5 bg-red-600 hover:bg-red-700 text-white rounded-full transition-colors shadow-sm","aria-label":g.ariaRemoveInterior.replace("{index}",(r+1).toString()),children:(0,a.jsx)(p.Z,{className:"w-4 h-4"})})})]},r))})]})]})}var F=t(9200),I=t(2553);function R(e){let{document:r,onDocumentChange:t,maxSize:o=10485760}=e,{locale:l}=(0,d.useRouter)(),i="az"===l?E.documentUpload:"ru"===l?P.documentUpload:S.documentUpload,[n,c]=s.useState(null),m=(0,s.useCallback)(e=>{if(c(null),0===e.length)return;let r=e[0];if(r.size>o){let e=o/1048576;c(i.errorSize.replace("{size}",e.toString()));return}if(!["application/pdf","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/msword","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.ms-excel","text/plain"].includes(r.type)){c(i.errorType);return}let a=new FileReader;a.onload=e=>{var r;t(null===(r=e.target)||void 0===r?void 0:r.result)},a.onerror=()=>{c(i.errorReadFail||"Failed to read file. Please try again."),console.error("FileReader error:",a.error)},a.readAsDataURL(r)},[o,t,i]),{getRootProps:g,getInputProps:x,isDragActive:u}=(0,D.uI)({onDrop:m,maxFiles:1,accept:{"application/pdf":[".pdf"],"application/msword":[".doc"],"application/vnd.openxmlformats-officedocument.wordprocessingml.document":[".docx"],"application/vnd.ms-excel":[".xls"],"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":[".xlsx"],"text/plain":[".txt"]}});return(0,a.jsxs)("div",{className:"space-y-2",children:[n&&(0,a.jsx)("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-3 shadow-sm mb-3",children:(0,a.jsxs)("div",{className:"flex items-start",children:[(0,a.jsx)(F.Z,{className:"h-5 w-5 text-red-500 dark:text-red-400 mr-2 mt-0.5 flex-shrink-0"}),(0,a.jsx)("div",{children:(0,a.jsx)("p",{className:"text-sm text-red-700 dark:text-red-300",children:n})})]})}),r?(0,a.jsxs)("div",{className:"border rounded-lg p-4 bg-gray-50 dark:bg-gray-750 flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(I.Z,{className:"h-6 w-6 text-blue-500 mr-3"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-gray-700 dark:text-gray-200",children:(()=>{if(!r)return null;try{let e=r.match(/^data:.*?;name=([^;]+);base64,/);if(e&&e[1])return decodeURIComponent(e[1]);if(r.includes("application/pdf"))return"document.pdf";if(r.includes("application/vnd.openxmlformats-officedocument.wordprocessingml.document"))return"document.docx";if(r.includes("application/msword"))return"document.doc";if(r.includes("application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"))return"document.xlsx";else if(r.includes("application/vnd.ms-excel"))return"document.xls";else if(r.includes("text/plain"))return"document.txt"}catch(e){console.error("Error extracting filename:",e)}return i.fallbackFilename})()}),(0,a.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[i.uploadedStateText," "]})]})]}),(0,a.jsx)("button",{type:"button",onClick:e=>{e.stopPropagation(),t("")},className:"text-red-500 hover:text-red-700 dark:text-red-400 dark:hover:text-red-300 p-1 rounded-full hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors",children:(0,a.jsx)(p.Z,{className:"h-5 w-5"})})]}):(0,a.jsxs)("div",{...g(),className:"border-2 border-dashed rounded-lg p-6 text-center cursor-pointer transition-all ".concat(u?"border-blue-500 bg-blue-50 dark:bg-blue-900/20 shadow-inner":"border-gray-300 dark:border-gray-700 hover:border-blue-500 dark:hover:border-blue-500 hover:shadow-md"),children:[(0,a.jsx)("input",{...x()}),(0,a.jsx)(h.Z,{className:"w-12 h-12 mx-auto text-blue-500 dark:text-blue-400 opacity-75"}),(0,a.jsxs)("p",{className:"mt-3 text-sm font-medium text-gray-700 dark:text-gray-300",children:[u?i.dropzoneActive:i.dropzoneInactive," "]}),(0,a.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:[i.dropzoneHint.replace("{size}",(o/1048576).toString())," "]})]})]})}var A=t(4976);function U(){let{locale:e}=(0,d.useRouter)(),r="az"===e?E.catalogManager:"ru"===e?P.catalogManager:S.catalogManager,[t,o]=(0,s.useState)(null),[l,i]=(0,s.useState)(null),[n,c]=(0,s.useState)(!1),[m,u]=(0,s.useState)(!1),[h,b]=(0,s.useState)(!1),[p,y]=(0,s.useState)(!1);(0,s.useEffect)(()=>{f()},[]);let f=async()=>{try{y(!0);let e=new Date().getTime(),r=await fetch("/api/catalog/status?t=".concat(e));if(r.ok){let e=await r.json();o(e.catalog)}}catch(e){console.error("Error fetching catalog status:",e)}finally{y(!1)}},j=async e=>{i(null),c(!0),u(!1);try{if(!(await fetch("/api/catalog/upload",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({catalog:e})})).ok)throw Error(r.errorUpload);await f(),u(!0),setTimeout(()=>u(!1),3e3)}catch(e){i(e instanceof Error?e.message:r.errorUpload)}finally{c(!1)}},k=async()=>{i(null),c(!0),b(!1);try{if(!(await fetch("/api/catalog/delete",{method:"DELETE"})).ok)throw Error(r.errorDelete);o(null),b(!0),setTimeout(()=>b(!1),3e3)}catch(e){i(e instanceof Error?e.message:r.errorDelete)}finally{c(!1)}};return(0,a.jsxs)("div",{className:"space-y-6 p-6",children:[(0,a.jsxs)("div",{className:"border-b border-gray-200 dark:border-gray-700 pb-5",children:[(0,a.jsx)("h3",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:r.title})," ",(0,a.jsxs)("p",{className:"mt-2 text-sm text-gray-500 dark:text-gray-400",children:[r.description," "]})]}),l&&(0,a.jsx)("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4",children:(0,a.jsxs)("div",{className:"flex items-start",children:[(0,a.jsx)(F.Z,{className:"h-5 w-5 text-red-500 dark:text-red-400 mt-0.5"}),(0,a.jsx)("div",{className:"ml-3",children:(0,a.jsx)("p",{className:"text-sm text-red-700 dark:text-red-300",children:l})})]})}),m&&(0,a.jsx)("div",{className:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg p-4",children:(0,a.jsxs)("p",{className:"text-sm text-green-700 dark:text-green-300",children:[r.uploadSuccess," "]})}),h&&(0,a.jsx)("div",{className:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg p-4",children:(0,a.jsxs)("p",{className:"text-sm text-green-700 dark:text-green-300",children:[r.deleteSuccess," "]})}),(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,a.jsx)("h4",{className:"text-lg font-medium text-gray-900 dark:text-white",children:r.uploadSectionTitle})," ",(0,a.jsx)("button",{onClick:()=>{f()},className:"flex items-center text-blue-500 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300",title:r.refreshButtonTitle,children:(0,a.jsx)(A.Z,{className:"h-5 w-5 ".concat(p?"animate-spin":"")})})]}),(0,a.jsx)(R,{document:t,onDocumentChange:j,maxSize:20971520}),n&&(0,a.jsxs)("div",{className:"mt-4 text-sm text-gray-500 dark:text-gray-400",children:[r.loadingUpload," "]})]}),t&&(0,a.jsx)("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-sm font-medium text-blue-700 dark:text-blue-300",children:r.currentCatalogTitle})," ",(0,a.jsxs)("p",{className:"mt-1 text-sm text-blue-600 dark:text-blue-400",children:[r.currentCatalogDesc," "]})]}),(0,a.jsxs)("div",{className:"flex space-x-3",children:[(0,a.jsx)("button",{onClick:k,className:"flex items-center text-red-500 hover:text-red-700 dark:text-red-400 dark:hover:text-red-300",title:r.deleteButtonTitle,children:(0,a.jsx)(g.Z,{className:"h-5 w-5"})}),(0,a.jsx)(x.Z,{className:"h-5 w-5 text-blue-500 dark:text-blue-400"})]})]})})]})}function L(e){let{token:r}=e,{locale:t}=(0,d.useRouter)(),o="az"===t?E.jobOpeningsManager:"ru"===t?P.jobOpeningsManager:S.jobOpeningsManager,[i,c]=(0,s.useState)([]),[x,u]=(0,s.useState)(!1),[h,b]=(0,s.useState)(null),[p,y]=(0,s.useState)(!1),[f,j]=(0,s.useState)({title:"",department:"",location:"",type:"",description:"",active:!0}),[k,v]=(0,s.useState)(!1);o.deptAll,o.deptEngineering,o.deptSales,o.deptOperations,o.deptLogistics;let N=[o.typeFullTime,o.typePartTime,o.typeContract,o.typeInternship],C=async()=>{u(!0),b(null);try{let e=await fetch("/api/job-openings");if(!e.ok)throw Error(o.errorFetch);let r=await e.json();c(r)}catch(e){b(o.errorLoad),console.error("Error fetching job openings:",e)}finally{u(!1)}};(0,s.useEffect)(()=>{C()},[]);let T=e=>{let{name:r,value:t,type:a}=e.target;if("checkbox"===a){let t=e.target;j(e=>({...e,[r]:t.checked}))}else j(e=>({...e,[r]:t}))},Z=()=>{j({title:"",department:"",location:"",type:"",description:"",active:!0}),v(!1)},D=e=>{j({id:e.id,title:e.title,department:e.department,location:e.location,type:e.type,description:e.description,active:void 0===e.active||e.active}),v(!0),y(!0)},z=async e=>{if(e.preventDefault(),b(null),!f.title||!f.location||!f.type||!f.description){b(o.errorAllFieldsRequired);return}try{let e={...f,department:f.department||"general"};if(!(await fetch("/api/job-openings",{method:k?"PUT":"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(r)},body:JSON.stringify(e)})).ok){let e=k?o.errorUpdate:o.errorCreate;throw Error(e)}await C(),y(!1),Z()}catch(e){b("Error: ".concat(e instanceof Error?e.message:o.errorUnknown)),console.error("Error saving job opening:",e)}},F=async e=>{if(window.confirm(o.confirmDelete)){b(null),u(!0);try{let t=await fetch("/api/job-openings?id=".concat(e),{method:"DELETE",headers:{Authorization:"Bearer ".concat(r),"Cache-Control":"no-cache, no-store, must-revalidate",Pragma:"no-cache"}}),a=await t.json();if(!t.ok)throw Error(a.message||o.errorDelete);c(r=>r.filter(r=>r.id!==e)),b(null)}catch(e){console.error("Error deleting job opening:",e),b(e instanceof Error?e.message:o.errorDelete)}finally{u(!1)}}};return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:o.title})," ",(0,a.jsxs)("button",{onClick:()=>{Z(),y(!0)},className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[(0,a.jsx)(n.Z,{className:"w-5 h-5"}),(0,a.jsx)("span",{children:o.buttonAddNew})," "]})]}),h&&(0,a.jsxs)("div",{className:"p-4 bg-red-100 text-red-700 rounded-lg flex items-start space-x-2",children:[(0,a.jsx)(l.Z,{className:"w-5 h-5 mt-0.5 flex-shrink-0"}),(0,a.jsx)("p",{children:h})]}),x?(0,a.jsx)("div",{className:"py-12 text-center text-gray-500 dark:text-gray-400",children:o.statusLoading}):0===i.length?(0,a.jsxs)("div",{className:"py-12 text-center text-gray-500 dark:text-gray-400",children:[o.statusNoJobs," "]}):(0,a.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-md overflow-hidden",children:(0,a.jsxs)("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[(0,a.jsx)("thead",{className:"bg-gray-50 dark:bg-gray-700",children:(0,a.jsxs)("tr",{children:[(0,a.jsxs)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:[o.headerJobTitle," "]}),(0,a.jsxs)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:[o.headerDepartment," "]}),(0,a.jsxs)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:[o.headerLocation," "]}),(0,a.jsxs)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:[o.headerType," "]}),(0,a.jsxs)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:[o.headerStatus," "]}),(0,a.jsxs)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:[o.headerActions," "]})]})}),(0,a.jsx)("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:i.map(e=>(0,a.jsxs)("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700/50",children:[(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white",children:e.title}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300",children:e.department}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300",children:e.location}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300",children:e.type}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:(0,a.jsxs)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat(e.active?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-400"),children:[e.active?o.statusActive:o.statusInactive," "]})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:(0,a.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,a.jsxs)("button",{onClick:()=>D(e),className:"text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300",children:[(0,a.jsx)(m.Z,{className:"w-5 h-5"}),(0,a.jsx)("span",{className:"sr-only",children:o.srEdit})," "]}),(0,a.jsxs)("button",{onClick:()=>e.id&&F(e.id),className:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300",children:[(0,a.jsx)(g.Z,{className:"w-5 h-5"}),(0,a.jsx)("span",{className:"sr-only",children:o.srDelete})," "]})]})})]},e.id))})]})}),p&&(0,a.jsx)("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:(0,a.jsxs)("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[(0,a.jsx)("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",children:(0,a.jsx)("div",{className:"absolute inset-0 bg-gray-500 dark:bg-gray-900 opacity-75"})}),(0,a.jsx)("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:"​"}),(0,a.jsxs)("div",{className:"inline-block align-bottom bg-white dark:bg-gray-800 rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:[(0,a.jsx)("div",{className:"bg-white dark:bg-gray-800 px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:(0,a.jsxs)("div",{className:"sm:flex sm:items-start",children:[(0,a.jsx)("div",{className:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-blue-100 dark:bg-blue-900 sm:mx-0 sm:h-10 sm:w-10",children:(0,a.jsx)(w.Z,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"})}),(0,a.jsxs)("div",{className:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left w-full",children:[(0,a.jsxs)("h3",{className:"text-lg leading-6 font-medium text-gray-900 dark:text-white",children:[k?o.modalTitleEdit:o.modalTitleAdd," "]}),(0,a.jsx)("div",{className:"mt-4",children:(0,a.jsxs)("form",{onSubmit:z,className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:[o.labelJobTitle," "]}),(0,a.jsx)("input",{type:"text",id:"title",name:"title",value:f.title,onChange:T,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{htmlFor:"location",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:[o.labelLocation," "]}),(0,a.jsx)("input",{type:"text",id:"location",name:"location",value:f.location,onChange:T,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{htmlFor:"type",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:[o.labelJobType," "]}),(0,a.jsxs)("select",{id:"type",name:"type",value:f.type,onChange:T,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",required:!0,children:[(0,a.jsx)("option",{value:"",children:o.selectJobTypePlaceholder})," ",N.map(e=>(0,a.jsx)("option",{value:e,children:e},e))]})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:[o.labelDescription," "]}),(0,a.jsx)("textarea",{id:"description",name:"description",value:f.description,onChange:T,rows:4,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",required:!0})]}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("input",{type:"checkbox",id:"active",name:"active",checked:f.active,onChange:T,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,a.jsxs)("label",{htmlFor:"active",className:"ml-2 block text-sm text-gray-700 dark:text-gray-300",children:[o.labelActive," "]})]})]})})]})]})}),(0,a.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-700 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[(0,a.jsxs)("button",{type:"button",onClick:z,className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-600 text-base font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:ml-3 sm:w-auto sm:text-sm",children:[o.buttonSave," "]}),(0,a.jsxs)("button",{type:"button",onClick:()=>y(!1),className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm dark:bg-gray-800 dark:border-gray-600 dark:text-gray-300 dark:hover:bg-gray-700",children:[o.buttonCancel," "]})]})]})]})})]})}function O(){let{locale:e}=(0,d.useRouter)(),r="az"===e?E.translationManager:"ru"===e?P.translationManager:S.translationManager,[t,o]=(0,s.useState)(null),[l,i]=(0,s.useState)(null),[n,c]=(0,s.useState)(null),[m,g]=(0,s.useState)(!0),[x,u]=(0,s.useState)(null);(0,s.useEffect)(()=>{try{o(S),i(E),c(P)}catch(e){console.error("Error loading translations:",e),u(r.errorLoading)}finally{g(!1)}},[r.errorLoading]);let h=(e,r,a)=>{let s,d;if("en"===e?(s=t,d=o):"az"===e?(s=l,d=i):(s=n,d=c),!s||!d)return;let m=JSON.parse(JSON.stringify(s)),g=m;for(let e=0;e<r.length-1;e++)g=g[r[e]];g[r[r.length-1]]=a,d(m)},b=function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],t=arguments.length>2?arguments[2]:void 0;return Object.keys(e).map(s=>{let d=e[s],o=[...r,s];return"string"==typeof d?(0,a.jsxs)("div",{className:"mb-4 p-4 border border-gray-200 dark:border-gray-700 rounded-md",children:[(0,a.jsx)("label",{htmlFor:o.join("."),className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:o.join(" > ")}),(0,a.jsx)("input",{type:"text",id:o.join("."),value:d,onChange:e=>h(t,o,e.target.value),className:"mt-1 block w-full px-3 py-2 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm text-gray-900 dark:text-gray-100"})]},o.join(".")):"object"==typeof d&&null!==d?(0,a.jsxs)("div",{className:"mb-6 p-4 border border-gray-300 dark:border-gray-600 rounded-lg bg-gray-50 dark:bg-gray-800",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-800 dark:text-gray-200 mb-3 border-b pb-2 dark:border-gray-700",children:s.charAt(0).toUpperCase()+s.slice(1)}),b(d,o,t)]},o.join(".")):null})},p=async()=>{let e=localStorage.getItem("adminToken");if(!e){alert("Authentication token not found. Please log in again.");return}try{let r=await fetch("/api/translations/update",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)},body:JSON.stringify({en:t,az:l,ru:n})}),a=await r.json();if(!r.ok)throw Error(a.message||"Failed to save translations");alert(a.message||"Translations saved successfully!")}catch(e){console.error("Error saving translations:",e),alert("Error saving translations: "+e.message)}};return m?(0,a.jsx)("div",{className:"p-6 text-gray-700 dark:text-gray-300",children:r.loading}):x?(0,a.jsx)("div",{className:"p-6 text-red-600 dark:text-red-400",children:x}):t&&l&&n&&"object"==typeof t&&"object"==typeof l&&"object"==typeof n&&0!==Object.keys(t).length?(0,a.jsx)("div",{className:"p-6 bg-gray-50 dark:bg-gray-900 min-h-screen",children:(0,a.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-8 pb-4 border-b border-gray-300 dark:border-gray-700",children:[(0,a.jsx)("h2",{className:"text-3xl font-bold text-gray-800 dark:text-white",children:r.title}),(0,a.jsx)("button",{onClick:p,className:"px-6 py-2 bg-blue-600 text-white font-semibold rounded-lg shadow-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50 transition ease-in-out duration-150",children:r.saveChanges})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-2xl font-semibold text-gray-800 dark:text-gray-200 mb-4",children:r.english}),(0,a.jsx)("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md",children:b(t,[],"en")})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-2xl font-semibold text-gray-800 dark:text-gray-200 mb-4",children:r.azerbaijani}),(0,a.jsx)("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md",children:b(l,[],"az")})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-2xl font-semibold text-gray-800 dark:text-gray-200 mb-4",children:r.russian||"Russian"}),(0,a.jsx)("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md",children:b(n,[],"ru")})]})]})]})}):(0,a.jsx)("div",{className:"p-6 text-gray-700 dark:text-gray-300",children:r.noTranslations})}function B(){let{asPath:e}=(0,d.useRouter)(),[r,t]=(0,s.useState)(!1),[f,k]=(0,s.useState)(""),[w,v]=(0,s.useState)(""),[N,C]=(0,s.useState)(""),[S,E]=(0,s.useState)(""),[P,D]=(0,s.useState)("products"),[F,I]=(0,s.useState)(!1),[A,B]=(0,s.useState)(""),[q,J]=(0,s.useState)(""),[M,_]=(0,s.useState)(""),[H,W]=(0,s.useState)(""),[X,V]=(0,s.useState)(""),[G,K]=(0,s.useState)([]),[Q,Y]=(0,s.useState)(!1),[$,ee]=(0,s.useState)(null),[er,et]=(0,s.useState)([]),[ea,es]=(0,s.useState)(Date.now()),[ed,eo]=(0,s.useState)(null),[el,ei]=(0,s.useState)(!1),[en,ec]=(0,s.useState)(""),[em,eg]=(0,s.useState)(""),[ex,eu]=(0,s.useState)({name:"",description:"",image:"",category:"",specs:[],useCases:[],images:[],document:""}),[eh,eb]=(0,s.useState)(""),[ep,ey]=(0,s.useState)(""),[ef,ej]=(0,s.useState)(null),[ek,ew]=(0,s.useState)(null),[ev,eN]=(0,s.useState)(null),[eC,eS]=(0,s.useState)(null),[eE,eP]=(0,s.useState)(!1);(0,s.useEffect)(()=>{let e=localStorage.getItem("adminToken");e&&fetch("/api/auth/verify",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}}).then(r=>{r.ok?(E(e),t(!0),eD(),ez()):(localStorage.removeItem("adminToken"),t(!1))}).catch(e=>{console.error("Error verifying token:",e),localStorage.removeItem("adminToken"),t(!1)})},[]),(0,s.useEffect)(()=>{r&&ez()},[r,ea]),(0,s.useEffect)(()=>{r&&ea&&eD()},[r,ea]),(0,s.useEffect)(()=>{r&&"backup"===P&&(async()=>{try{let e=await fetch("/api/catalog/status");if(e.ok){let r=await e.json();eP(!!r.catalog)}}catch(e){console.error("Error checking catalog status:",e)}})()},[r,P]),(0,s.useEffect)(()=>{r&&ea&&eH()},[r,ea]);let eT=async e=>{if(e.preventDefault(),C(""),!f||!w){C("Username and password are required");return}try{let e=await fetch("/api/auth",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:f,password:w})});if(!e.ok){let r=await e.json();throw Error(r.message||"Login failed")}let r=await e.json();localStorage.setItem("adminToken",r.token),E(r.token),t(!0),k(""),v(""),eD()}catch(e){console.error("Login error:",e),C(e instanceof Error?e.message:"Login failed")}},eZ=async e=>{if(e.preventDefault(),W(""),V(""),q!==M){W("New passwords do not match");return}try{let e=await fetch("/api/user",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(S)},body:JSON.stringify({username:"admin",currentPassword:A,newPassword:q})}),r=await e.json();if(!e.ok)throw Error(r.message||"Failed to change password");V("Password changed successfully"),B(""),J(""),_(""),setTimeout(()=>{I(!1),V("")},2e3)}catch(e){W(e instanceof Error?e.message:"Failed to change password")}},eD=async()=>{Y(!0);try{let e=await fetch("/api/products");if(!e.ok)throw Error("Failed to fetch products");let r=await e.json();K(r)}catch(e){console.error("Error fetching products:",e)}finally{Y(!1)}},ez=async()=>{try{let e=await fetch("/api/categories");if(!e.ok)throw Error("Failed to fetch categories");let r=await e.json();et(r.map(e=>e.name))}catch(e){console.error("Error fetching categories:",e)}},eF=e=>{let{name:r,value:t}=e.target;("image"===r||"images"===r&&"string"==typeof t)&&t.length>1e3&&alert("Warning: Very long image URLs may cause issues. Consider using a shorter URL or optimizing the image."),eu(e=>({...e,[r]:t}))},eI=e=>{eu(r=>({...r,specs:r.specs.filter((r,t)=>t!==e)}))},eR=e=>{eu(r=>({...r,useCases:r.useCases.filter((r,t)=>t!==e)}))},eA=()=>{ee(null),eo(null),eu({name:"",description:"",image:"",category:"",specs:[],useCases:[],images:[],document:""}),ei(!1)},eU=e=>{let r=er.includes(e.category);eu({name:e.name,description:e.description,image:e.image,category:r?e.category:"",specs:e.specs||[],useCases:e.useCases||[],images:e.images||[],document:e.document||""}),r?eo(null):eo('Warning: This product was assigned to category "'.concat(e.category,'" which no longer exists. Please select a new category.')),ee(e),ei(!0)},eL=()=>{ee(null),eo(null),eu({name:"",description:"",image:"",category:"",specs:[],useCases:[],images:[],document:""}),ei(!0)},eO=async e=>{if(e.preventDefault(),eo(null),!ex.name.trim()){eo("Product name is required");return}if(!ex.category){eo("Please select a category");return}if(!ex.image){eo("Cover image is required");return}try{let e=$?"/api/products?id=".concat($.id):"/api/products",r={...ex,image:ex.image,images:ex.images.filter(e=>e!==ex.image)},t=await fetch(e,{method:$?"PUT":"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(S)},body:JSON.stringify(r)});if(!t.ok){let e=await t.json();throw Error(e.message||"Failed to save product")}eD(),eA()}catch(e){console.error("Error saving product:",e),eo(e instanceof Error?e.message:"Failed to save product")}},eB=async e=>{if(confirm("Are you sure you want to delete this product?"))try{let r=await fetch("/api/products?id=".concat(e),{method:"DELETE",headers:{Authorization:"Bearer ".concat(S)}});if(!r.ok){let e=await r.json();throw Error(e.message||"Failed to delete product")}eD()}catch(e){console.error("Error deleting product:",e),alert(e instanceof Error?e.message:"Failed to delete product")}},eq=G.filter(e=>{let r=""===en||e.name.toLowerCase().includes(en.toLowerCase())||e.description.toLowerCase().includes(en.toLowerCase()),t=""===em||e.category===em;return r&&t}),eJ=async()=>{try{ej("Creating backup...");let e=await fetch("/api/categories");if(!e.ok)throw Error("Failed to fetch categories for backup");let r=await e.json(),t=await fetch("/api/catalog/status"),a=null;if(t.ok){let e=await t.json();e.catalog&&(a={catalog:e.catalog,fileName:e.fileName,lastUpdated:e.lastUpdated})}let s={products:G,categories:r,catalog:a,timestamp:new Date().toISOString(),version:"1.1"},d=JSON.stringify(s,null,2),o=new Blob([d],{type:"application/json"}),l=URL.createObjectURL(o),i=document.createElement("a"),n=new Date().toISOString().replace(/[:.]/g,"-");i.download="site-data-backup-".concat(n,".json"),i.href=l,i.click(),URL.revokeObjectURL(l),eS(new Date().toISOString()),ej("Backup created successfully!"),setTimeout(()=>{ej(null)},3e3)}catch(e){console.error("Error creating backup:",e),ej("Backup failed: ".concat(e instanceof Error?e.message:"Unknown error")),setTimeout(()=>{ej(null)},5e3)}},eM=e=>{e.target.files&&e.target.files.length>0&&eN(e.target.files[0])},e_=async()=>{if(!ev){ew("Please select a backup file first");return}try{let e=await ev.text(),r=JSON.parse(e);if(!r.products||!r.categories)throw Error("Invalid backup file format");if(!confirm("Are you sure you want to restore from this backup? This will replace all current products, categories, and catalog data."))return;ew("Restoring data...");let t=await fetch("/api/products"),a=await t.json(),s=0,d=0,o=0,l=0,i=!1;for(let e of r.categories){let r=await fetch("/api/categories"),t=(await r.json()).find(r=>r.name===e.name);t?(await fetch("/api/categories?id=".concat(t.id),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(S)},body:JSON.stringify({name:e.name,description:e.description||""})}),d++):(await fetch("/api/categories",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(S)},body:JSON.stringify({name:e.name,description:e.description||""})}),s++)}for(let e of r.products){let r=a.find(r=>r.name===e.name),t=r?"PUT":"POST",s=r?"/api/products?id=".concat(r.id):"/api/products";await fetch(s,{method:t,headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(S)},body:JSON.stringify({name:e.name,description:e.description,category:e.category,image:e.image,images:e.images||[],specs:e.specs||[],useCases:e.useCases||[],document:e.document||""})}),r?l++:o++}r.catalog&&r.catalog.catalog&&(await fetch("/api/catalog/upload",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(S)},body:JSON.stringify({catalog:r.catalog.catalog})}),i=!0),await eD(),await ez();let n="Restore completed successfully! \n      Created: ".concat(s," categories, ").concat(o," products\n      Updated: ").concat(d," categories, ").concat(l," products\n      ").concat(i?"Catalog PDF was updated.":"");ew(n),eN(null);let c=document.getElementById("backup-file");c&&(c.value=""),setTimeout(()=>{ew(null)},1e4)}catch(e){console.error("Error restoring from backup:",e),ew("Restore failed: ".concat(e instanceof Error?e.message:"Unknown error")),setTimeout(()=>{ew(null)},5e3)}},eH=async()=>{await ez(),await eD()};return(0,a.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-900 dark:to-gray-800",children:[(0,a.jsxs)(j(),{children:[(0,a.jsx)("title",{children:"Admin Dashboard"}),(0,a.jsx)("meta",{name:"robots",content:"noindex, nofollow"})]}),(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsx)(T,{activeSection:P,onSectionChange:D,onLogout:()=>{localStorage.removeItem("adminToken"),E(""),t(!1),K([])}}),(0,a.jsxs)("div",{className:"flex-1 flex flex-col",children:[(0,a.jsx)("header",{className:"bg-white dark:bg-gray-800 shadow-md border-b border-gray-200 dark:border-gray-700",children:(0,a.jsx)("div",{className:"px-8 py-6 flex justify-between items-center",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(o.Z,{className:"w-8 h-8 text-blue-600 dark:text-blue-400 mr-3"}),(0,a.jsx)("h1",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Product Admin Dashboard"})]})})}),(0,a.jsxs)("main",{className:"p-8",children:[F&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50 backdrop-blur-sm",children:(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-2xl p-6 w-full max-w-md border border-gray-200 dark:border-gray-700",children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4",children:"Change Password"}),H&&(0,a.jsxs)("div",{className:"mb-4 p-3 bg-red-100 dark:bg-red-900/30 border border-red-200 dark:border-red-800 rounded-lg text-red-700 dark:text-red-300 flex items-start",children:[(0,a.jsx)(l.Z,{className:"w-5 h-5 mr-2 flex-shrink-0 mt-0.5"}),(0,a.jsx)("p",{children:H})]}),X&&(0,a.jsxs)("div",{className:"mb-4 p-3 bg-green-100 dark:bg-green-900/30 border border-green-200 dark:border-green-800 rounded-lg text-green-700 dark:text-green-300 flex items-start",children:[(0,a.jsx)(l.Z,{className:"w-5 h-5 mr-2 flex-shrink-0 mt-0.5"}),(0,a.jsx)("p",{children:X})]}),(0,a.jsxs)("form",{onSubmit:eZ,children:[(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{htmlFor:"currentPassword",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Current Password"}),(0,a.jsx)("input",{id:"currentPassword",type:"password",value:A,onChange:e=>B(e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-700 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-900 text-gray-900 dark:text-white",required:!0})]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{htmlFor:"newPassword",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"New Password"}),(0,a.jsx)("input",{id:"newPassword",type:"password",value:q,onChange:e=>J(e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-700 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-900 text-gray-900 dark:text-white",required:!0})]}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Confirm New Password"}),(0,a.jsx)("input",{id:"confirmPassword",type:"password",value:M,onChange:e=>_(e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-700 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-900 text-gray-900 dark:text-white",required:!0})]}),(0,a.jsxs)("div",{className:"flex space-x-3",children:[(0,a.jsx)("button",{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded-md flex items-center transition-colors focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:"Update Password"}),(0,a.jsx)("button",{type:"button",onClick:()=>I(!1),className:"bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-200 font-medium py-2 px-4 rounded-md transition-colors",children:"Cancel"})]})]})]})}),el&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50 backdrop-blur-sm overflow-y-auto",children:(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-2xl p-6 w-full max-w-5xl border border-gray-200 dark:border-gray-700 max-h-[90vh] overflow-y-auto",children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4 pb-2 border-b border-gray-200 dark:border-gray-700",children:$?"Edit Product":"Add New Product"}),ed&&(0,a.jsxs)("div",{className:"mb-4 p-3 bg-red-100 dark:bg-red-900/30 border border-red-200 dark:border-red-800 rounded-lg text-red-700 dark:text-red-300 flex items-start",children:[(0,a.jsx)(l.Z,{className:"w-5 h-5 mr-2 flex-shrink-0 mt-0.5"}),(0,a.jsx)("p",{children:ed})]}),(0,a.jsxs)("form",{onSubmit:eO,children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Product Name *"}),(0,a.jsx)("input",{id:"name",name:"name",type:"text",value:ex.name,onChange:eF,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-700 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-900 text-gray-900 dark:text-white",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Category *"}),(0,a.jsxs)("select",{id:"category",name:"category",value:ex.category,onChange:eF,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-700 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-900 text-gray-900 dark:text-white",required:!0,children:[(0,a.jsx)("option",{value:"",children:"Select a category"}),er.map(e=>(0,a.jsx)("option",{value:e,children:e},e))]})]}),(0,a.jsxs)("div",{className:"md:col-span-2",children:[(0,a.jsx)("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Description"}),(0,a.jsx)("textarea",{id:"description",name:"description",rows:3,value:ex.description,onChange:eF,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-700 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-900 text-gray-900 dark:text-white"})]}),(0,a.jsx)("div",{className:"md:col-span-2",children:(0,a.jsx)(z,{coverImage:ex.image,interiorImages:ex.images,onCoverImageChange:e=>eu(r=>({...r,image:e})),onInteriorImagesChange:e=>eu(r=>({...r,images:e}))})}),(0,a.jsxs)("div",{className:"md:col-span-2",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Product Documentation"}),(0,a.jsx)(R,{document:ex.document,onDocumentChange:e=>eu(r=>({...r,document:e}))}),(0,a.jsx)("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:"Upload product specification sheets, manuals, or other documentation. This document will be available for download on the product page."})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Specifications"}),(0,a.jsxs)("div",{className:"flex items-center mb-2",children:[(0,a.jsx)("input",{type:"text",value:eh,onChange:e=>eb(e.target.value),placeholder:"Add specification",className:"flex-grow px-3 py-2 border border-gray-300 dark:border-gray-700 rounded-l-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-900 text-gray-900 dark:text-white"}),(0,a.jsx)("button",{type:"button",onClick:()=>{""!==eh.trim()&&(eu(e=>({...e,specs:[...e.specs,eh.trim()]})),eb(""))},className:"bg-blue-600 hover:bg-blue-700 text-white px-3 py-2 rounded-r-md transition-colors",children:(0,a.jsx)(n.Z,{className:"w-5 h-5"})})]}),(0,a.jsx)("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:ex.specs.map((e,r)=>(0,a.jsxs)("div",{className:"flex items-center justify-between bg-gray-50 dark:bg-gray-700 p-2 rounded-md",children:[(0,a.jsx)("span",{className:"text-sm text-gray-700 dark:text-gray-200",children:e}),(0,a.jsx)("button",{type:"button",onClick:()=>eI(r),className:"text-red-500 hover:text-red-700 transition-colors",children:(0,a.jsx)(p.Z,{className:"w-4 h-4"})})]},r))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Use Cases"}),(0,a.jsxs)("div",{className:"flex items-center mb-2",children:[(0,a.jsx)("input",{type:"text",value:ep,onChange:e=>ey(e.target.value),placeholder:"Add use case",className:"flex-grow px-3 py-2 border border-gray-300 dark:border-gray-700 rounded-l-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-900 text-gray-900 dark:text-white"}),(0,a.jsx)("button",{type:"button",onClick:()=>{""!==ep.trim()&&(eu(e=>({...e,useCases:[...e.useCases,ep.trim()]})),ey(""))},className:"bg-blue-600 hover:bg-blue-700 text-white px-3 py-2 rounded-r-md transition-colors",children:(0,a.jsx)(n.Z,{className:"w-5 h-5"})})]}),(0,a.jsx)("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:ex.useCases.map((e,r)=>(0,a.jsxs)("div",{className:"flex items-center justify-between bg-gray-50 dark:bg-gray-700 p-2 rounded-md",children:[(0,a.jsx)("span",{className:"text-sm text-gray-700 dark:text-gray-200",children:e}),(0,a.jsx)("button",{type:"button",onClick:()=>eR(r),className:"text-red-500 hover:text-red-700 transition-colors",children:(0,a.jsx)(p.Z,{className:"w-4 h-4"})})]},r))})]})]}),(0,a.jsxs)("div",{className:"flex space-x-3 border-t border-gray-200 dark:border-gray-700 pt-4",children:[(0,a.jsxs)("button",{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded-md flex items-center transition-colors focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:[(0,a.jsx)(y.Z,{className:"w-5 h-5 mr-2"}),$?"Update Product":"Save Product"]}),(0,a.jsx)("button",{type:"button",onClick:eA,className:"bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-200 font-medium py-2 px-4 rounded-md flex items-center transition-colors",children:"Cancel"})]})]})]})}),(()=>{if(!r)return(0,a.jsxs)("div",{className:"flex items-center justify-center min-h-screen bg-gray-100 dark:bg-gray-900",children:[(0,a.jsx)(j(),{children:(0,a.jsx)("title",{children:"Admin Login"})}),(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6 w-full max-w-md",children:[(0,a.jsxs)("div",{className:"flex items-center justify-center mb-6",children:[(0,a.jsx)(o.Z,{className:"w-8 h-8 text-blue-600 dark:text-blue-400 mr-2"}),(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Admin Login"})]}),N&&(0,a.jsxs)("div",{className:"mb-4 p-3 bg-red-100 dark:bg-red-900/30 border border-red-200 dark:border-red-800 rounded-lg text-red-700 dark:text-red-300 flex items-start",children:[(0,a.jsx)(l.Z,{className:"w-5 h-5 mr-2 flex-shrink-0 mt-0.5"}),(0,a.jsx)("p",{children:N})]}),(0,a.jsxs)("form",{onSubmit:eT,children:[(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Username"}),(0,a.jsx)("input",{id:"username",type:"text",value:f,onChange:e=>k(e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-700 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-900 text-gray-900 dark:text-white",required:!0})]}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Password"}),(0,a.jsx)("input",{id:"password",type:"password",value:w,onChange:e=>v(e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-700 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-900 text-gray-900 dark:text-white",required:!0})]}),(0,a.jsxs)("button",{type:"submit",className:"w-full flex justify-center items-center bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-colors",children:[(0,a.jsx)(i.Z,{className:"w-5 h-5 mr-2"}),"Login"]})]})]})]});switch(P){case"products":return(0,a.jsxs)("div",{className:"space-y-8",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-8 bg-white dark:bg-gray-800 p-6 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Products"}),(0,a.jsxs)("button",{onClick:eL,className:"bg-blue-600 hover:bg-blue-700 text-white font-medium py-3 px-6 rounded-lg flex items-center transition-colors shadow-sm hover:shadow-md",children:[(0,a.jsx)(n.Z,{className:"w-5 h-5 mr-2"}),"Add Product"]})]}),(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-800 shadow-md rounded-lg overflow-hidden border border-gray-200 dark:border-gray-700",children:[(0,a.jsx)("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-750",children:(0,a.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[(0,a.jsx)("h2",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Products"}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("input",{type:"text",placeholder:"Search products...",value:en,onChange:e=>ec(e.target.value),className:"w-full sm:w-64 px-3 py-2 pl-10 border border-gray-300 dark:border-gray-700 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-900 text-gray-900 dark:text-white"}),(0,a.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]}),(0,a.jsxs)("select",{value:em,onChange:e=>eg(e.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-700 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-900 text-gray-900 dark:text-white",children:[(0,a.jsx)("option",{value:"",children:"All Categories"}),er.map(e=>(0,a.jsx)("option",{value:e,children:e},e))]})]})]})}),Q?(0,a.jsx)("div",{className:"p-6 text-center",children:(0,a.jsx)("p",{className:"text-gray-500 dark:text-gray-400",children:"Loading products..."})}):0===eq.length?(0,a.jsx)("div",{className:"p-6 text-center",children:(0,a.jsx)("p",{className:"text-gray-500 dark:text-gray-400",children:0===G.length?"No products found.":"No products match your search criteria."})}):(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[(0,a.jsx)("thead",{className:"bg-gray-50 dark:bg-gray-750",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"ID"}),(0,a.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Name"}),(0,a.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Category"}),(0,a.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Images"}),(0,a.jsx)("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Actions"})]})}),(0,a.jsx)("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:eq.map(e=>(0,a.jsxs)("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors",children:[(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:e.id}),(0,a.jsxs)("td",{className:"px-6 py-4",children:[" ",(0,a.jsxs)("div",{className:"max-w-xs",children:[" ",(0,a.jsxs)("div",{className:"text-sm font-medium text-gray-900 dark:text-white break-words",children:[" ",e.name]}),(0,a.jsxs)("div",{className:"text-sm text-gray-500 dark:text-gray-400 truncate max-w-xs",children:[" ",e.description]})]})]}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsx)("span",{className:"px-2.5 py-1 text-xs font-medium rounded-full bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300",children:e.category})}),(0,a.jsx)("td",{className:"px-6 py-4",children:(0,a.jsxs)("div",{className:"flex -space-x-2",children:[e.image&&(0,a.jsx)("div",{className:"relative z-10",children:(0,a.jsx)("img",{src:e.image,alt:"".concat(e.name," - Cover"),className:"h-10 w-10 rounded-md object-cover ring-2 ring-white dark:ring-gray-800 border-2 border-blue-500",title:"Cover Image"})}),(e.images||[]).filter(r=>r&&r!==e.image).slice(0,3).map((r,t)=>(0,a.jsx)("img",{src:r,alt:"".concat(e.name," - Interior ").concat(t+1),className:"h-10 w-10 rounded-md object-cover ring-2 ring-white dark:ring-gray-800",title:"Interior Image ".concat(t+1)},t)),e.images&&e.images.filter(r=>r&&r!==e.image).length>3&&(0,a.jsxs)("div",{className:"h-10 w-10 rounded-md bg-gray-100 dark:bg-gray-700 flex items-center justify-center ring-2 ring-white dark:ring-gray-800 text-xs font-medium text-gray-500 dark:text-gray-400",children:["+",e.images.filter(r=>r&&r!==e.image).length-3]}),!e.image&&(!e.images||0===e.images.length)&&(0,a.jsx)("div",{className:"h-10 w-10 rounded-md bg-gray-100 dark:bg-gray-700 flex items-center justify-center",children:(0,a.jsx)(c.Z,{className:"h-5 w-5 text-gray-400"})})]})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium space-x-2",children:(0,a.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,a.jsxs)("button",{onClick:()=>eU(e),className:"text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300 p-1 rounded-full hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-colors",children:[(0,a.jsx)(m.Z,{className:"w-5 h-5"}),(0,a.jsx)("span",{className:"sr-only",children:"Edit"})]}),(0,a.jsxs)("button",{onClick:()=>eB(e.id),className:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300 p-1 rounded-full hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors",children:[(0,a.jsx)(g.Z,{className:"w-5 h-5"}),(0,a.jsx)("span",{className:"sr-only",children:"Delete"})]})]})})]},e.id))})]})})]})]});case"categories":return(0,a.jsx)(Z,{token:S,onCategoryChange:()=>es(Date.now())});case"catalog":return(0,a.jsx)(U,{});case"careers":return(0,a.jsx)(L,{token:S});case"translations":return(0,a.jsx)(O,{});case"backup":return(0,a.jsxs)("div",{className:"space-y-8",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-8 bg-white dark:bg-gray-800 p-6 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Backup & Restore"}),(0,a.jsxs)("button",{onClick:eJ,className:"bg-blue-600 hover:bg-blue-700 text-white font-medium py-3 px-6 rounded-lg flex items-center transition-colors shadow-sm hover:shadow-md",children:[(0,a.jsx)(x.Z,{className:"w-5 h-5 mr-2"}),"Create Backup"]})]}),ef&&(0,a.jsxs)("div",{className:"mb-6 p-4 bg-green-100 dark:bg-green-900/30 border border-green-200 dark:border-green-800 rounded-lg text-green-700 dark:text-green-300 flex items-start",children:[(0,a.jsx)(u.Z,{className:"w-5 h-5 mr-2 flex-shrink-0 mt-0.5"}),(0,a.jsx)("p",{children:ef})]}),(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-800 shadow-md rounded-lg overflow-hidden border border-gray-200 dark:border-gray-700",children:[(0,a.jsx)("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-750",children:(0,a.jsx)("h2",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Restore Data"})}),(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Upload a previously created backup file to restore your products and categories. Existing items with the same name will be updated rather than creating duplicates."}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("label",{htmlFor:"backup-file",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Select Backup File"}),(0,a.jsx)("input",{id:"backup-file",type:"file",accept:".json",onChange:eM,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-700 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-900 text-gray-900 dark:text-white"})]}),(0,a.jsxs)("button",{onClick:e_,disabled:!ev,className:"flex items-center px-4 py-2 rounded-md font-medium ".concat(ev?"bg-green-600 hover:bg-green-700 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-500 dark:text-gray-400 cursor-not-allowed"," transition-colors"),children:[(0,a.jsx)(h.Z,{className:"w-5 h-5 mr-2"}),"Restore from Backup"]}),ek&&(0,a.jsxs)("div",{className:"mt-4 p-3 rounded-lg flex items-start ".concat(ek.includes("failed")||ek.includes("select")?"bg-red-100 dark:bg-red-900/30 border border-red-200 dark:border-red-800 text-red-700 dark:text-red-300":"bg-green-100 dark:bg-green-900/30 border border-green-200 dark:border-green-800 text-green-700 dark:text-green-300"),children:[ek.includes("failed")||ek.includes("select")?(0,a.jsx)(l.Z,{className:"w-5 h-5 mr-2 flex-shrink-0 mt-0.5"}):(0,a.jsx)(u.Z,{className:"w-5 h-5 mr-2 flex-shrink-0 mt-0.5"}),(0,a.jsx)("p",{children:ek})]})]})]}),(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-800 shadow-md rounded-lg overflow-hidden border border-gray-200 dark:border-gray-700",children:[(0,a.jsx)("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-750",children:(0,a.jsx)("h2",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Backup Information"})}),(0,a.jsx)("div",{className:"p-6",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-gray-500 dark:text-gray-400 mb-1",children:"Data to be backed up:"}),(0,a.jsxs)("ul",{className:"list-disc list-inside text-gray-700 dark:text-gray-300 space-y-1",children:[(0,a.jsxs)("li",{children:["Products (",G.length," items)"]}),(0,a.jsxs)("li",{children:["Categories (",er.length," items)"]}),(0,a.jsxs)("li",{children:["Catalog PDF ",eE?"(1 file)":"(none)"]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-gray-500 dark:text-gray-400 mb-1",children:"Last backup:"}),(0,a.jsx)("p",{className:"text-gray-700 dark:text-gray-300",children:eC?new Date(eC).toLocaleString():"No backup has been created yet"})]})]})})]})]});case"password":return(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-800 shadow-md rounded-lg p-6 border border-gray-200 dark:border-gray-700",children:[(0,a.jsx)("h2",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4 pb-2 border-b border-gray-200 dark:border-gray-700",children:"Change Password"}),H&&(0,a.jsxs)("div",{className:"mb-4 p-3 bg-red-100 dark:bg-red-900/30 border border-red-200 dark:border-red-800 rounded-lg text-red-700 dark:text-red-300 flex items-start",children:[(0,a.jsx)(l.Z,{className:"w-5 h-5 mr-2 flex-shrink-0 mt-0.5"}),(0,a.jsx)("p",{children:H})]}),X&&(0,a.jsxs)("div",{className:"mb-4 p-3 bg-green-100 dark:bg-green-900/30 border border-green-200 dark:border-green-800 rounded-lg text-green-700 dark:text-green-300 flex items-start",children:[(0,a.jsx)(l.Z,{className:"w-5 h-5 mr-2 flex-shrink-0 mt-0.5"}),(0,a.jsx)("p",{children:X})]}),(0,a.jsxs)("form",{onSubmit:eZ,className:"space-y-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"currentPassword",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Current Password"}),(0,a.jsx)("input",{id:"currentPassword",type:"password",value:A,onChange:e=>B(e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-700 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-900 text-gray-900 dark:text-white",required:!0})]}),(0,a.jsxs)("div",{className:"md:col-span-2",children:[(0,a.jsx)("label",{htmlFor:"newPassword",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"New Password"}),(0,a.jsx)("input",{id:"newPassword",type:"password",value:q,onChange:e=>J(e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-700 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-900 text-gray-900 dark:text-white",required:!0})]}),(0,a.jsxs)("div",{className:"md:col-span-2",children:[(0,a.jsx)("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Confirm New Password"}),(0,a.jsx)("input",{id:"confirmPassword",type:"password",value:M,onChange:e=>_(e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-700 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-900 text-gray-900 dark:text-white",required:!0})]})]}),(0,a.jsx)("div",{className:"flex space-x-3 pt-2",children:(0,a.jsxs)("button",{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded-md flex items-center transition-colors focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:[(0,a.jsx)(b.Z,{className:"w-5 h-5 mr-2"}),"Update Password"]})})]})]});default:return null}})()]})]})]})]})}}},function(e){e.O(0,[722,888,774,179],function(){return e(e.s=1767)}),_N_E=e.O()}]);