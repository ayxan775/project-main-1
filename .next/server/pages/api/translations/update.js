"use strict";(()=>{var e={};e.id=996,e.ids=[996],e.modules={9344:e=>{e.exports=require("jsonwebtoken")},145:e=>{e.exports=require("next/dist/compiled/next-server/pages-api.runtime.prod.js")},2048:e=>{e.exports=require("fs")},5315:e=>{e.exports=require("path")},6249:(e,t)=>{Object.defineProperty(t,"l",{enumerable:!0,get:function(){return function e(t,n){return n in t?t[n]:"then"in t&&"function"==typeof t.then?t.then(t=>e(t,n)):"function"==typeof t&&"default"===n?t:void 0}}})},2950:(e,t,n)=>{n.r(t),n.d(t,{config:()=>P,default:()=>p,routeModule:()=>m});var r={};n.r(r),n.d(r,{default:()=>c});var s=n(1802),o=n(7153),i=n(6249),a=n(2048),u=n.n(a),l=n(5315),d=n.n(l),f=n(6826);async function c(e,t){if("POST"!==e.method)return t.status(405).json({message:"Method Not Allowed"});let n=e.headers.authorization;if(!n||!n.startsWith("Bearer "))return t.status(401).json({message:"Authorization header missing or invalid"});let r=n.split(" ")[1];try{if(!await (0,f.W)(r))return t.status(403).json({message:"Forbidden: Invalid token or insufficient permissions"})}catch(e){return console.error("Token verification error:",e),t.status(401).json({message:"Unauthorized: Token verification failed"})}try{let{en:n,az:r,ru:s}=e.body;if(!n||!r||!s||"object"!=typeof n||"object"!=typeof r||"object"!=typeof s)return t.status(400).json({message:"Invalid or incomplete translation data provided."});let o=d().resolve(process.cwd(),"locales"),i=d().join(o,"en.json"),a=d().join(o,"az.json"),l=d().join(o,"ru.json");u().writeFileSync(i,JSON.stringify(n,null,2),"utf8"),u().writeFileSync(a,JSON.stringify(r,null,2),"utf8"),u().writeFileSync(l,JSON.stringify(s,null,2),"utf8"),t.status(200).json({message:"Translations updated successfully!"})}catch(e){console.error("Error updating translations:",e),t.status(500).json({message:"Failed to update translations.",error:e.message})}}let p=(0,i.l)(r,"default"),P=(0,i.l)(r,"config"),m=new s.PagesAPIRouteModule({definition:{kind:o.x.PAGES_API,page:"/api/translations/update",pathname:"/api/translations/update",bundlePath:"",filename:""},userland:r})},6826:(e,t,n)=>{n.d(t,{W:()=>i});var r=n(9344),s=n.n(r);let o=process.env.JWT_SECRET||"your-secret-key";async function i(e){return new Promise((t,n)=>{s().verify(e,o,(e,r)=>{e?n(e):t(r)})})}},7153:(e,t)=>{var n;Object.defineProperty(t,"x",{enumerable:!0,get:function(){return n}}),function(e){e.PAGES="PAGES",e.PAGES_API="PAGES_API",e.APP_PAGE="APP_PAGE",e.APP_ROUTE="APP_ROUTE"}(n||(n={}))},1802:(e,t,n)=>{e.exports=n(145)}};var t=require("../../../webpack-api-runtime.js");t.C(e);var n=t(t.s=2950);module.exports=n})();